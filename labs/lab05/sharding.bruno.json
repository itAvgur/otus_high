{
  "name": "high-available",
  "version": "1",
  "items": [
    {
      "type": "folder",
      "name": "Base",
      "items": [
        {
          "type": "http",
          "name": "Get user by id- authenticated",
          "seq": 9,
          "request": {
            "url": "http://{{host}}:{{port}}/user/get/{{userId}}?token={{userToken}}",
            "method": "GET",
            "headers": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "user",
                "password": "password"
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "sOBziBzIOGPBMGCcmWLhD"
              },
              {
                "name": "res.body.id",
                "value": "eq {{userId}}",
                "enabled": true,
                "uid": "A2WlvjmWiK3hTJm3DJw11"
              },
              {
                "name": "res.body.firstName",
                "value": "eq {{firstName}}",
                "enabled": true,
                "uid": "vhF9jfhovAdRazwBv1sw9"
              },
              {
                "name": "res.body.lastName",
                "value": "eq {{lastName}}",
                "enabled": true,
                "uid": "vnRD5L4lrFiutbH2B0vPH"
              },
              {
                "name": "res.body.age",
                "value": "eq {{age}}",
                "enabled": true,
                "uid": "Ckrt7B6jjkZQD4FjaIxYk"
              },
              {
                "name": "res.body.gender",
                "value": "eq {{gender}}",
                "enabled": true,
                "uid": "42waZmdB8MxlfiLRllguM"
              },
              {
                "name": "res.body.city.name",
                "value": "eq {{city}}",
                "enabled": true,
                "uid": "CTieNqSGx0WBjbZR5cwoa"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get user- no token",
          "seq": 5,
          "request": {
            "url": "http://{{host}}:{{port}}/user/get/{{userId}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 401",
                "enabled": true,
                "uid": "7KUx1jxBI1l5d2AI9Uu4y"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Get user- wrong token",
          "seq": 6,
          "request": {
            "url": "http://{{host}}:{{port}}/user/get/{{userId}}?token=wrong_token",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 401",
                "enabled": true,
                "uid": "uT5CVEFs6GcAMvwi478mM"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "wrong_token",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Register user again",
          "seq": 4,
          "request": {
            "url": "http://{{host}}:{{port}}/user/register",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{userLogin}}\",\n    \"pass\": \"pass\",\n    \"passRepeat\": \"pass\",\n    \"user\": {\n        \"firstName\": \"{{firstName}}\",\n        \"lastName\": \"{{lastName}}\",\n        \"age\": {{age}},\n        \"gender\": \"{{gender}}\",\n        \"city\": {\n            \"name\": \"{{city}}\"\n        }\n    }\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 400",
                "enabled": true,
                "uid": "aLxXpOYsKvJh2DQOG2Q9x"
              },
              {
                "name": "res.body.code",
                "value": "eq BAD_REQUEST",
                "enabled": true,
                "uid": "bQoyuw50f2837rEv8izTU"
              },
              {
                "name": "res.body.message",
                "value": "eq login is already exists",
                "enabled": true,
                "uid": "5mpNJeqZI2t1QcEV7mGjX"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Register user with empty pass",
          "seq": 1,
          "request": {
            "url": "http://{{host}}:{{port}}/user/register",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{userLogin}}\",\n    \"pass\": \"\",\n    \"passRepeat\": \"\",\n    \"user\": {\n        \"firstName\": \"{{firstName}}\",\n        \"lastName\": \"{{lastName}}\",\n        \"age\": {{age}},\n        \"gender\": \"{{gender}}\",\n        \"city\": {\n            \"name\": \"{{city}}\"\n        }\n    }\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "let str = \"login_\" + Math.random().toString().substr(2,5)\nconsole.log(str)\nbru.setEnvVar(\"userLogin\", str)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 400",
                "enabled": true,
                "uid": "A1ZXHozTWDZ3WQbwGZai2"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Register user with not equal pass",
          "seq": 2,
          "request": {
            "url": "http://{{host}}:{{port}}/user/register",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{userLogin}}\",\n    \"pass\": \"pass\",\n    \"passRepeat\": \"pass123\",\n    \"user\": {\n        \"firstName\": \"{{firstName}}\",\n        \"lastName\": \"{{lastName}}\",\n        \"age\": {{age}},\n        \"gender\": \"{{gender}}\",\n        \"city\": {\n            \"name\": \"{{city}}\"\n        }\n    }\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "let str = \"login_\" + Math.random().toString().substr(2,5)\nconsole.log(str)\nbru.setEnvVar(\"userLogin\", str)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 400",
                "enabled": true,
                "uid": "4kRpaT0JleWcLAri0hl4R"
              },
              {
                "name": "res.body.message",
                "value": "eq passwords must be equal",
                "enabled": true,
                "uid": "rPAk3vfCzkIR1teif2jrl"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Register user",
          "seq": 3,
          "request": {
            "url": "http://{{host}}:{{port}}/user/register",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{userLogin}}\",\n    \"pass\": \"pass\",\n    \"passRepeat\": \"pass\",\n    \"user\": {\n        \"firstName\": \"{{firstName}}\",\n        \"lastName\": \"{{lastName}}\",\n        \"age\": {{age}},\n        \"gender\": \"{{gender}}\",\n        \"city\": {\n            \"name\": \"{{city}}\"\n        }\n    }\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "let str = \"login_\" + Math.random().toString().substr(2,5)\nconsole.log(str)\nbru.setEnvVar(\"userLogin\", str)",
              "res": "const data = res.getBody();\nbru.setEnvVar(\"userId\", data.id)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "wwVRsQSt2AFzBI8PCyWQ5"
              },
              {
                "name": "res.body.id",
                "value": "isNumber",
                "enabled": true,
                "uid": "SygJqBQ0seFezDzJRZ3Xh"
              },
              {
                "name": "res.body.firstName",
                "value": "eq {{firstName}}",
                "enabled": true,
                "uid": "0M2pemECeUlofctLvgqPE"
              },
              {
                "name": "res.body.lastName",
                "value": "eq {{lastName}}",
                "enabled": true,
                "uid": "61wleNMmUUanyDBeK6IDX"
              },
              {
                "name": "res.body.age",
                "value": "eq {{age}}",
                "enabled": true,
                "uid": "zYIksRkSRcsfssjW0tBlw"
              },
              {
                "name": "res.body.gender",
                "value": "eq {{gender}}",
                "enabled": true,
                "uid": "WGqM5I55nxMq3qJOfkIL4"
              },
              {
                "name": "res.body.city.name",
                "value": "eq {{city}}",
                "enabled": true,
                "uid": "SSgBY0OSMvCyzXDhn0HSn"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "authenticate user not valid pass",
          "seq": 7,
          "request": {
            "url": "http://{{host}}:{{port}}/login",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{userLogin}}\",\n    \"pass\": \"wrong_pass\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 401",
                "enabled": true,
                "uid": "zxloASXl0Ygr0A815d2hC"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "authenticate user",
          "seq": 8,
          "request": {
            "url": "http://{{host}}:{{port}}/login",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{userLogin}}\",\n    \"pass\": \"pass\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "res": "const data = res.getBody();\nbru.setEnvVar(\"userToken\", data.token)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "1DUJWnzwUylFfO2poxdBJ"
              }
            ],
            "tests": "",
            "query": []
          }
        }
      ]
    },
    {
      "type": "folder",
      "name": "Caching",
      "items": [
        {
          "type": "http",
          "name": "Add friend",
          "seq": 8,
          "request": {
            "url": "http://{{host}}:{{port}}/friend/{{friendId}}?token={{userToken}}",
            "method": "PUT",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "uFXaVTCryoD2bNWG75F0E"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Authenticate friend",
          "seq": 2,
          "request": {
            "url": "http://{{host}}:{{port}}/login",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{friendLogin}}\",\n    \"pass\": \"pass\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "res": "const data = res.getBody();\nbru.setEnvVar(\"friendToken\", data.token)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "JUCPnhikKNnQO0aoBnGyC"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Authenticate user",
          "seq": 6,
          "request": {
            "url": "http://{{host}}:{{port}}/login",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{userLogin}}\",\n    \"pass\": \"pass\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "res": "const data = res.getBody();\nbru.setEnvVar(\"userToken\", data.token)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "EScicD4vGEhdncKxrvA9Y"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Create post of friend",
          "seq": 3,
          "request": {
            "url": "http://{{host}}:{{port}}/post?token={{friendToken}}",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"text\": \"Post of friend\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "ZWgmECeR1ceiAUxgUSQNl"
              },
              {
                "name": "res.body.id",
                "value": "isNumber",
                "enabled": true,
                "uid": "2Oi5y0pISDJcQjRmQoAtj"
              },
              {
                "name": "res.body.text",
                "value": "eq Post of friend",
                "enabled": true,
                "uid": "r9ZzaoRgD4jL5f5q8MerI"
              },
              {
                "name": "res.body.authorId",
                "value": "eq {{friendId}}",
                "enabled": true,
                "uid": "oTnuZKu9Ia6eSDp5vWxeG"
              }
            ],
            "tests": "const data = res.getBody();\nbru.setVar(\"postId\", data.id)",
            "query": [
              {
                "name": "token",
                "value": "{{friendToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Create post",
          "seq": 13,
          "request": {
            "url": "http://{{host}}:{{port}}/post?token={{userToken}}",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"text\": \"Post of user\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "res": "const data = res.getBody();\nbru.setVar(\"postId\", data.id)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "nYK0d29n1ZXMq4dv0yNzJ"
              },
              {
                "name": "res.body.id",
                "value": "isNumber",
                "enabled": true,
                "uid": "8iqwuIEVwSOelKhIa9TDr"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Delete friend",
          "seq": 10,
          "request": {
            "url": "http://{{host}}:{{port}}/friend/{{friendId}}?token={{userToken}}",
            "method": "DELETE",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "MFOOoVfF0YFzZ8llujYpc"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Delete post not existed",
          "seq": 19,
          "request": {
            "url": "http://{{host}}:{{port}}/post/{{postId}}?token={{userToken}}",
            "method": "DELETE",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 400",
                "enabled": true,
                "uid": "K8Mz05a3bFFPej36gRUyk"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Delete post",
          "seq": 17,
          "request": {
            "url": "http://{{host}}:{{port}}/post/{{postId}}?token={{userToken}}",
            "method": "DELETE",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "nsnRbVD2KVphvthGcTLLB"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Feed post empty again",
          "seq": 11,
          "request": {
            "url": "http://{{host}}:{{port}}/post/feed?token={{userToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "BJphlUil31J2NE2FygmF6"
              },
              {
                "name": "res.body.length",
                "value": "eq 0",
                "enabled": true,
                "uid": "MS8uxva50DVxhZe9D5F1V"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Feed post empty",
          "seq": 7,
          "request": {
            "url": "http://{{host}}:{{port}}/post/feed?token={{userToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "b3LBiudYIyKpuCjVxz8vE"
              },
              {
                "name": "res.body.length",
                "value": "eq 0",
                "enabled": true,
                "uid": "hecmfv8wWerN3Q55tOVxZ"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Feed post",
          "seq": 9,
          "request": {
            "url": "http://{{host}}:{{port}}/post/feed?token={{userToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "Tq2xe54psKrCbHBzoGkYb"
              },
              {
                "name": "res.body.length",
                "value": "eq 1",
                "enabled": true,
                "uid": "3IPKLLFvnqEEIqiyhVzKH"
              },
              {
                "name": "res.body[0].id",
                "value": "eq {{postId}}",
                "enabled": true,
                "uid": "gwgPmQdaFqwdTJKTnYRw2"
              },
              {
                "name": "res.body[0].text",
                "value": "eq Post of friend",
                "enabled": true,
                "uid": "SqTdb3SSITtSYpIbiuIqe"
              },
              {
                "name": "res.body[0].authorId",
                "value": "eq {{friendId}}",
                "enabled": true,
                "uid": "tvkokXQDgUOZVWgzia1EW"
              }
            ],
            "tests": "// pm.test(\"Status code is 200\", function () {\n//     pm.response.to.have.status(200);\n// });\n// \n// pm.test(\"JSON test\", () => {\n//   const res = pm.response.json();\n//   pm.expect(res.length).to.eql(1);\n//   pm.expect(res[0].id).to.eql(parseInt(pm.collectionVariables.get(\"postId\")));\n//   pm.expect(res[0].authorId).to.eql(parseInt(pm.collectionVariables.get(\"idFriend\")));\n//   pm.expect(res[0].text).to.eql(\"Post of friend\");\n//  });",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              },
              {
                "name": "offset",
                "value": "0",
                "enabled": false
              },
              {
                "name": "limit",
                "value": "1",
                "enabled": false
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get post not existed",
          "seq": 18,
          "request": {
            "url": "http://{{host}}:{{port}}/post/2000000?token={{userToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "// pm.collectionVariables.set(\"postId\", 999999)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 400",
                "enabled": true,
                "uid": "qcwmffOGopBmI8UzPW4T4"
              },
              {
                "name": "res.body.message",
                "value": "eq post with id 2000000 missed",
                "enabled": true,
                "uid": "B9eIKr8Vlel0lkBptHkRq"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get post of friend",
          "seq": 4,
          "request": {
            "url": "http://{{host}}:{{port}}/post/{{postId}}?token={{friendToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "DafNlXD7EF5sWui3SOrMj"
              },
              {
                "name": "res.body.id",
                "value": "eq {{postId}}",
                "enabled": true,
                "uid": "Hu3MUaiurIGRzge5RlYl0"
              },
              {
                "name": "res.body.text",
                "value": "eq \"Post of friend\"",
                "enabled": true,
                "uid": "Xs7VpnPc0sFxmCpCppDl3"
              },
              {
                "name": "res.body.authorId",
                "value": "eq {{friendId}}",
                "enabled": true,
                "uid": "u8yyWlCeht5xYbkUyUSV2"
              }
            ],
            "tests": "\n// pm.test(\"JSON test\", () => {\n//   const res = pm.response.json();;\n//   pm.expect(res.id).to.eql(parseInt(pm.collectionVariables.get(\"postId\")));\n//   pm.expect(res.authorId).to.eql(parseInt(pm.collectionVariables.get(\"idFriend\")));\n//   pm.expect(res.text).to.eql(\"Post of friend\");\n//  });",
            "query": [
              {
                "name": "token",
                "value": "{{friendToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get post updated",
          "seq": 16,
          "request": {
            "url": "http://{{host}}:{{port}}/post/{{postId}}?token={{userToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "8n8dRLAaLHHpuufIOWKxw"
              },
              {
                "name": "res.body.id",
                "value": "eq {{postId}}",
                "enabled": true,
                "uid": "jfVb8gusoAA1flrwAMtxO"
              },
              {
                "name": "res.body.text",
                "value": "eq Updated post text",
                "enabled": true,
                "uid": "kLNVCYHy0QjZwvHe8gl7L"
              },
              {
                "name": "res.body.authorId",
                "value": "eq {{userId}}",
                "enabled": true,
                "uid": "RvblMlOQbSI6iArJSlRSV"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get post",
          "seq": 14,
          "request": {
            "url": "http://{{host}}:{{port}}/post/{{postId}}?token={{userToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "pDREcE5CMJYQmb96fJtsO"
              },
              {
                "name": "res.body.id",
                "value": "eq {{postId}}",
                "enabled": true,
                "uid": "c0H5tD4IQhMklPMvJGvlZ"
              },
              {
                "name": "res.body.text",
                "value": "eq \"Post of user\"",
                "enabled": true,
                "uid": "qSZlRkXPx7avO8IiEL1gD"
              },
              {
                "name": "res.body.authorId",
                "value": "eq {{userId}}",
                "enabled": true,
                "uid": "nijr0b6O8yWBbkmhh9bYS"
              }
            ],
            "tests": "\n// pm.test(\"JSON test\", () => {\n//   const res = pm.response.json();;\n//   pm.expect(res.id).to.eql(parseInt(pm.collectionVariables.get(\"postId\")));\n//   pm.expect(res.authorId).to.eql(parseInt(pm.collectionVariables.get(\"idFriend\")));\n//   pm.expect(res.text).to.eql(\"Post of friend\");\n//  });",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Register friend",
          "seq": 1,
          "request": {
            "url": "http://{{host}}:{{port}}/user/register",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{friendLogin}}\",\n    \"pass\": \"pass\",\n    \"passRepeat\": \"pass\",\n    \"user\": {\n        \"firstName\": \"{{firstName}}\",\n        \"lastName\": \"{{lastName}}\",\n        \"age\": {{age}},\n        \"gender\": \"{{gender}}\",\n        \"city\": {\n            \"name\": \"{{city}}\"\n        }\n    }\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "let str = \"login_\" + Math.random().toString().substr(2,5)\nbru.setEnvVar(\"friendLogin\", str)",
              "res": "const data = res.getBody();\nbru.setEnvVar(\"friendId\", data.id)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "qUuGoZE6Ryjmf67GazbVI"
              },
              {
                "name": "res.body.id",
                "value": "isNumber",
                "enabled": true,
                "uid": "XQD17lPXUN7mA0YWAUtRf"
              },
              {
                "name": "res.body.firstName",
                "value": "eq {{firstName}}",
                "enabled": true,
                "uid": "F5dDHlp8X3PwDQcdzfW4Y"
              },
              {
                "name": "res.body.lastName",
                "value": "eq {{lastName}}",
                "enabled": true,
                "uid": "QTDKUE77GsBlVZhx9hsrZ"
              },
              {
                "name": "res.body.age",
                "value": "eq {{age}}",
                "enabled": true,
                "uid": "5EpUa2uP9dEFjqfj53uCG"
              },
              {
                "name": "res.body.gender",
                "value": "eq {{gender}}",
                "enabled": true,
                "uid": "HqVqCGWHz6n1n7VLTWIVe"
              },
              {
                "name": "res.body.city.name",
                "value": "eq {{city}}",
                "enabled": true,
                "uid": "qDVwbwI1vJQWO8arEF8hI"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Register user",
          "seq": 5,
          "request": {
            "url": "http://{{host}}:{{port}}/user/register",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{userLogin}}\",\n    \"pass\": \"pass\",\n    \"passRepeat\": \"pass\",\n    \"user\": {\n        \"firstName\": \"{{firstName}}\",\n        \"lastName\": \"{{lastName}}\",\n        \"age\": {{age}},\n        \"gender\": \"{{gender}}\",\n        \"city\": {\n            \"name\": \"{{city}}\"\n        }\n    }\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "let str = \"login_\" + Math.random().toString().substr(2,5)\nconsole.log(str)\nbru.setEnvVar(\"userLogin\", str)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "oILkBQH0PNikYsgYgpT0J"
              },
              {
                "name": "res.body.id",
                "value": "isNumber",
                "enabled": true,
                "uid": "QFpvrYQl0eIsFkJXJTAX2"
              },
              {
                "name": "res.body.firstName",
                "value": "eq {{firstName}}",
                "enabled": true,
                "uid": "bvM3hFDH1Xa3BOh2OiTgV"
              },
              {
                "name": "res.body.lastName",
                "value": "eq {{lastName}}",
                "enabled": true,
                "uid": "7YKAsO9TZzsU1tJagSS4a"
              },
              {
                "name": "res.body.age",
                "value": "eq {{age}}",
                "enabled": true,
                "uid": "GlQNEJLLAbAy5qv0tflF2"
              },
              {
                "name": "res.body.gender",
                "value": "eq {{gender}}",
                "enabled": true,
                "uid": "m930egl8U6kv3X3zC7DRx"
              },
              {
                "name": "res.body.city.name",
                "value": "eq {{city}}",
                "enabled": true,
                "uid": "kXictWKsHBL274gSSMYCQ"
              }
            ],
            "tests": "const data = res.getBody();\nbru.setVar(\"userId\", data.id)",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Update post not existed",
          "seq": 12,
          "request": {
            "url": "http://{{host}}:{{port}}/post?token={{userToken}}",
            "method": "PUT",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"id\": 2000000,\n    \"text\": \"Updated post text\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "// "
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 400",
                "enabled": true,
                "uid": "nrRHO6U2eAFLVQwRZpShj"
              },
              {
                "name": "res.body.message",
                "value": "eq post with id 2000000 missed",
                "enabled": true,
                "uid": "OBEIZfsuWDp9G7zkrRyXJ"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Update post",
          "seq": 15,
          "request": {
            "url": "http://{{host}}:{{port}}/post?token={{userToken}}",
            "method": "PUT",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"id\": {{postId}},\n    \"text\": \"Updated post text\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "jjeyBdqm0qFVLLSpNjNon"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        }
      ]
    },
    {
      "type": "folder",
      "name": "Sharding",
      "items": [
        {
          "type": "http",
          "name": "Authenticate friend-1",
          "seq": 4,
          "request": {
            "url": "http://{{host}}:{{port}}/login",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{friendLogin}}\",\n    \"pass\": \"pass\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "res": "const data = res.getBody();\nbru.setEnvVar(\"friendToken\", data.token)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "DD1XrUcKUyHQSYgB5GJHb"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Authenticate friend-2",
          "seq": 12,
          "request": {
            "url": "http://{{host}}:{{port}}/login",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{friendLogin}}\",\n    \"pass\": \"pass\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "res": "const data = res.getBody();\nbru.setEnvVar(\"friendToken\", data.token)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "mjjXpsObRltIto7tA6MR5"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Authenticate user",
          "seq": 2,
          "request": {
            "url": "http://{{host}}:{{port}}/login",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{userLogin}}\",\n    \"pass\": \"pass\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "res": "const data = res.getBody();\nbru.setEnvVar(\"userToken\", data.token)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "56tpzA2ZWuJWRexfgKQoX"
              }
            ],
            "tests": "",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Create message first",
          "seq": 5,
          "request": {
            "url": "http://{{host}}:{{port}}/message?token={{userToken}}",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"to\": \"{{friendLogin}}\",\n    \"text\": \"Message first\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "res": "const data = res.getBody();\nbru.setVar(\"msg01id\", data.id)\nbru.setVar(\"fromId\", data.from)\nbru.setVar(\"toId\", data.to)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "waXo3NDLpBrVNu4B5kifI"
              },
              {
                "name": "res.body.text",
                "value": "eq Message first",
                "enabled": true,
                "uid": "QyIA1nbKkdMOlm05ZqDo1"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Create message second",
          "seq": 6,
          "request": {
            "url": "http://{{host}}:{{port}}/message?token={{userToken}}",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"to\": \"{{friendLogin}}\",\n    \"text\": \"Message second\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "res": "const data = res.getBody();\nbru.setVar(\"msg02id\", data.id)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "fwt6LUuQ06Ms6m48K0l5x"
              },
              {
                "name": "res.body.text",
                "value": "eq Message second",
                "enabled": true,
                "uid": "OjBdVTQitXtUaimbc8Xpj"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Create message third",
          "seq": 13,
          "request": {
            "url": "http://{{host}}:{{port}}/message?token={{friendToken}}",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"to\": \"{{userLogin}}\",\n    \"text\": \"Message third\"\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "res": "const data = res.getBody();\nbru.setVar(\"msg03id\", data.id)\nbru.setVar(\"fromId\", data.from)\nbru.setVar(\"toId\", data.to)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "dXM9n2BJNlGHWCJKbfFik"
              },
              {
                "name": "res.body.text",
                "value": "eq Message third",
                "enabled": true,
                "uid": "hZXely2RDllQ4IcjhsJZr"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{friendToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get message first",
          "seq": 7,
          "request": {
            "url": "http://{{host}}:{{port}}/message/{{msg01id}}?token={{userToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "zWUaBF66cHHOUHVXuTHBo"
              },
              {
                "name": "res.body.text",
                "value": "eq Message first",
                "enabled": true,
                "uid": "3DaCZy3BLAbuBjjF5VUO4"
              },
              {
                "name": "res.body.from",
                "value": "eq {{fromId}}",
                "enabled": true,
                "uid": "ZVy11BwkSk5Is4ZZykqrm"
              },
              {
                "name": "res.body.to",
                "value": "eq {{toId}}",
                "enabled": true,
                "uid": "j1OefXhdJ3A4cmFS2LpS5"
              }
            ],
            "tests": "// pm.test(\"Status code is 200\", function () {\n//     pm.response.to.have.status(200);\n// });\n// \n// pm.test(\"JSON test\", () => {\n//   const res = pm.response.json();\n//   pm.expect(res.id).to.eql(parseInt(pm.collectionVariables.get(\"messageFirstId\")));\n//   pm.expect(res.from).to.eql(parseInt(pm.collectionVariables.get(\"id\")));\n//   pm.expect(res.to).to.eql(parseInt(pm.collectionVariables.get(\"idFriend\")));\n//   pm.expect(res.text).to.eql(\"Message first\");\n//  });",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get message second",
          "seq": 8,
          "request": {
            "url": "http://{{host}}:{{port}}/message/{{msg02id}}?token={{userToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {},
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "uvtRRW7SGh6iRnoyBnbM9"
              },
              {
                "name": "res.body.text",
                "value": "eq Message second",
                "enabled": true,
                "uid": "NSSc73l0vu4sV7wvSrLTt"
              },
              {
                "name": "res.body.from",
                "value": "eq {{fromId}}",
                "enabled": true,
                "uid": "IgR0K8qDpvevwLMH4xxIC"
              },
              {
                "name": "res.body.to",
                "value": "eq {{toId}}",
                "enabled": true,
                "uid": "x2JjyivRaChVTxXeeWFeD"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get messages for friend-1",
          "seq": 10,
          "request": {
            "url": "http://{{host}}:{{port}}/message/list?token={{friendToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "// "
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "j0OfoqmVsVotGSCPlXwVk"
              },
              {
                "name": "res.body[0].id",
                "value": "eq {{msg01id}}",
                "enabled": true,
                "uid": "Xq24h8tzt7BAKXbR7lZsz"
              },
              {
                "name": "res.body[0].text",
                "value": "eq Message first",
                "enabled": true,
                "uid": "A4ry3MIXV9L9lcXN08KY5"
              },
              {
                "name": "res.body[0].from",
                "value": "eq {{fromId}}",
                "enabled": true,
                "uid": "YHg2oGZJNqiUh1hv3xbDw"
              },
              {
                "name": "res.body[0].to",
                "value": "eq {{toId}}",
                "enabled": true,
                "uid": "9Undf1Vc0x53Al3AdZZJa"
              },
              {
                "name": "res.body[1].id",
                "value": "eq {{msg02id}}",
                "enabled": true,
                "uid": "FBS5XgKZQa4nDknydZrKd"
              },
              {
                "name": "res.body[1].text",
                "value": "eq Message second",
                "enabled": true,
                "uid": "CIsc9fvgUocNEeQtTjp0a"
              },
              {
                "name": "res.body[1].from",
                "value": "eq {{fromId}}",
                "enabled": true,
                "uid": "gH3e5r7R1GaavE4XI31Vo"
              },
              {
                "name": "res.body[1].to",
                "value": "eq {{toId}}",
                "enabled": true,
                "uid": "9f3waqBiTWBYeop4vFNzJ"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{friendToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get messages for friend-2",
          "seq": 14,
          "request": {
            "url": "http://{{host}}:{{port}}/message/list?token={{friendToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "// "
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "jRvyOGFOmEqo9yWAWagZK"
              },
              {
                "name": "res.body[0].id",
                "value": "eq {{msg03id}}",
                "enabled": true,
                "uid": "9bQkDZrxTzT9pGTcTDRsV"
              },
              {
                "name": "res.body[0].text",
                "value": "eq Message third",
                "enabled": true,
                "uid": "3lQJXlX1MbUcGg4E3tBBr"
              },
              {
                "name": "res.body[0].from",
                "value": "eq {{fromId}}",
                "enabled": true,
                "uid": "dCPxDoyEn0dLf9PI3ZOk3"
              },
              {
                "name": "res.body[0].to",
                "value": "eq {{toId}}",
                "enabled": true,
                "uid": "uOMECpFjhD3Js4Ah5UC4c"
              },
              {
                "name": "res.body.length",
                "value": "eq 1",
                "enabled": true,
                "uid": "nHvlA0eLCxsrm80hKFLNP"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{friendToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get messages for user with third msg",
          "seq": 15,
          "request": {
            "url": "http://{{host}}:{{port}}/message/list?token={{userToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "// "
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "baJ9fmetAeNkPZZJPTPKv"
              },
              {
                "name": "res.body.length",
                "value": "eq 3",
                "enabled": true,
                "uid": "FOuchXKgUiYu1vYl7f4hm"
              },
              {
                "name": "res.body[2].text",
                "value": "eq Message third",
                "enabled": true,
                "uid": "5XyDzqRi0K8yJhB2r7fAD"
              },
              {
                "name": "res.body[2].from",
                "value": "eq {{fromId}}",
                "enabled": true,
                "uid": "XenYTVLk1C5WnMc4O85gd"
              },
              {
                "name": "res.body[2].to",
                "value": "eq {{toId}}",
                "enabled": true,
                "uid": "cX66AzOB9mMxAThF2Km1f"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Get messages for user",
          "seq": 9,
          "request": {
            "url": "http://{{host}}:{{port}}/message/list?token={{userToken}}",
            "method": "GET",
            "headers": [],
            "body": {
              "mode": "none",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "// "
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "CWoR14bzi9hF5BCM24SZk"
              },
              {
                "name": "res.body[0].id",
                "value": "eq {{msg01id}}",
                "enabled": true,
                "uid": "7MDtVEwxBFyYIW8UK55wo"
              },
              {
                "name": "res.body[0].text",
                "value": "eq Message first",
                "enabled": true,
                "uid": "2sdSql26woBWCSH0mBSCx"
              },
              {
                "name": "res.body[0].from",
                "value": "eq {{fromId}}",
                "enabled": true,
                "uid": "A7SPAPvYUoKpWBFudcypX"
              },
              {
                "name": "res.body[0].to",
                "value": "eq {{toId}}",
                "enabled": true,
                "uid": "tkS4fItfOw5PhJHPGt2yq"
              },
              {
                "name": "res.body[1].id",
                "value": "eq {{msg02id}}",
                "enabled": true,
                "uid": "1bTMs51C7gEZ01G7i97we"
              },
              {
                "name": "res.body[1].text",
                "value": "eq Message second",
                "enabled": true,
                "uid": "kfEszWLbMf0n2sNZr92Ek"
              },
              {
                "name": "res.body[1].from",
                "value": "eq {{fromId}}",
                "enabled": true,
                "uid": "6I5JVPKXxEKe355wCJQw4"
              },
              {
                "name": "res.body[1].to",
                "value": "eq {{toId}}",
                "enabled": true,
                "uid": "PdI0ez2ggmse17jlD3igx"
              }
            ],
            "tests": "",
            "query": [
              {
                "name": "token",
                "value": "{{userToken}}",
                "enabled": true
              }
            ]
          }
        },
        {
          "type": "http",
          "name": "Register friend-1",
          "seq": 3,
          "request": {
            "url": "http://{{host}}:{{port}}/user/register",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{friendLogin}}\",\n    \"pass\": \"pass\",\n    \"passRepeat\": \"pass\",\n    \"user\": {\n        \"firstName\": \"{{firstName}}\",\n        \"lastName\": \"{{lastName}}\",\n        \"age\": {{age}},\n        \"gender\": \"{{gender}}\",\n        \"city\": {\n            \"name\": \"{{city}}\"\n        }\n    }\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "let str = \"login_\" + Math.random().toString().substr(2,5)\nconsole.log(str)\nbru.setEnvVar(\"friendLogin\", str)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "XZF7ygBSb8Om8O06nTcLE"
              },
              {
                "name": "res.body.id",
                "value": "isNumber",
                "enabled": true,
                "uid": "Fj9fLDd7JOg1KA780S1wv"
              },
              {
                "name": "res.body.firstName",
                "value": "eq {{firstName}}",
                "enabled": true,
                "uid": "DQQQSslYf9MIT9zdBqJCU"
              },
              {
                "name": "res.body.lastName",
                "value": "eq {{lastName}}",
                "enabled": true,
                "uid": "1vgD5QOdYIrEMIVzsNX6M"
              },
              {
                "name": "res.body.age",
                "value": "eq {{age}}",
                "enabled": true,
                "uid": "3pAM1Ge2N6jIgAZyPu9ZJ"
              },
              {
                "name": "res.body.gender",
                "value": "eq {{gender}}",
                "enabled": true,
                "uid": "OTbxLq88xft0uAbXrTkgZ"
              },
              {
                "name": "res.body.city.name",
                "value": "eq {{city}}",
                "enabled": true,
                "uid": "RQfY513lHKskk7db3DhnS"
              }
            ],
            "tests": "const data = res.getBody();\nbru.setEnvVar(\"userId\", data.id)",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Register friend-2",
          "seq": 11,
          "request": {
            "url": "http://{{host}}:{{port}}/user/register",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{friendLogin}}\",\n    \"pass\": \"pass\",\n    \"passRepeat\": \"pass\",\n    \"user\": {\n        \"firstName\": \"{{firstName}}\",\n        \"lastName\": \"{{lastName}}\",\n        \"age\": {{age}},\n        \"gender\": \"{{gender}}\",\n        \"city\": {\n            \"name\": \"{{city}}\"\n        }\n    }\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "let str = \"login_\" + Math.random().toString().substr(2,5)\nconsole.log(str)\nbru.setEnvVar(\"friendLogin\", str)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "BvhcutEYu2mzxOlVKIrGv"
              },
              {
                "name": "res.body.id",
                "value": "isNumber",
                "enabled": true,
                "uid": "9qwPCdDCFWQtxqi0hoF1h"
              },
              {
                "name": "res.body.firstName",
                "value": "eq {{firstName}}",
                "enabled": true,
                "uid": "PCXe3Nfa2wbQHSkBRfro7"
              },
              {
                "name": "res.body.lastName",
                "value": "eq {{lastName}}",
                "enabled": true,
                "uid": "1Rh8Pzfnd7Slb6eNXW5oj"
              },
              {
                "name": "res.body.age",
                "value": "eq {{age}}",
                "enabled": true,
                "uid": "lcFvjXbXY0TsP7VojDzhc"
              },
              {
                "name": "res.body.gender",
                "value": "eq {{gender}}",
                "enabled": true,
                "uid": "cyf00GzSKXKmD2aqMjVq5"
              },
              {
                "name": "res.body.city.name",
                "value": "eq {{city}}",
                "enabled": true,
                "uid": "w93AkMTT5izyKA2ItmjQg"
              }
            ],
            "tests": "const data = res.getBody();\nbru.setEnvVar(\"userId\", data.id)",
            "query": []
          }
        },
        {
          "type": "http",
          "name": "Register user",
          "seq": 1,
          "request": {
            "url": "http://{{host}}:{{port}}/user/register",
            "method": "POST",
            "headers": [],
            "body": {
              "mode": "json",
              "json": "{\n    \"login\": \"{{userLogin}}\",\n    \"pass\": \"pass\",\n    \"passRepeat\": \"pass\",\n    \"user\": {\n        \"firstName\": \"{{firstName}}\",\n        \"lastName\": \"{{lastName}}\",\n        \"age\": {{age}},\n        \"gender\": \"{{gender}}\",\n        \"city\": {\n            \"name\": \"{{city}}\"\n        }\n    }\n}",
              "formUrlEncoded": [],
              "multipartForm": []
            },
            "auth": {
              "mode": "none",
              "basic": {
                "username": "",
                "password": ""
              },
              "bearer": {
                "token": ""
              }
            },
            "script": {
              "req": "let str = \"login_\" + Math.random().toString().substr(2,5)\nconsole.log(str)\nbru.setEnvVar(\"userLogin\", str)"
            },
            "vars": {},
            "assertions": [
              {
                "name": "res.status",
                "value": "eq 200",
                "enabled": true,
                "uid": "FEwyQrBzoN7mufaU74DuN"
              },
              {
                "name": "res.body.id",
                "value": "isNumber",
                "enabled": true,
                "uid": "SxgCDySVBYDc3FUIivMaG"
              },
              {
                "name": "res.body.firstName",
                "value": "eq {{firstName}}",
                "enabled": true,
                "uid": "JmJASrkYW40AAZ2rrjGrX"
              },
              {
                "name": "res.body.lastName",
                "value": "eq {{lastName}}",
                "enabled": true,
                "uid": "u6KVTLYYQp2HwpQKKpNwL"
              },
              {
                "name": "res.body.age",
                "value": "eq {{age}}",
                "enabled": true,
                "uid": "UBHQrd7Wj4d88cPa9wLkR"
              },
              {
                "name": "res.body.gender",
                "value": "eq {{gender}}",
                "enabled": true,
                "uid": "y3BhqttwEywnj3GALUPbo"
              },
              {
                "name": "res.body.city.name",
                "value": "eq {{city}}",
                "enabled": true,
                "uid": "A2h3jsulyBdvZ0mthKCHO"
              }
            ],
            "tests": "const data = res.getBody();\nbru.setEnvVar(\"userId\", data.id)",
            "query": []
          }
        }
      ]
    }
  ],
  "activeEnvironmentUid": "L8YNxi1IUkadUtoIpJVeY",
  "environments": [
    {
      "variables": [
        {
          "name": "host",
          "value": "localhost",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "port",
          "value": "8080",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "firstName",
          "value": "Yury",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "lastName",
          "value": "Melnikov",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "age",
          "value": "43",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "city",
          "value": "IKT",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "gender",
          "value": "MALE",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "userId",
          "value": 12,
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "friendId",
          "value": 8,
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "userLogin",
          "value": "login_83427",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "friendLogin",
          "value": "login_36793",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "userToken",
          "value": "162c09a9-e529-47d5-b0a8-20d6274d9d02",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "friendToken",
          "value": "a23b4a69-d131-46fe-a1f7-017a769d598f",
          "enabled": true,
          "secret": false,
          "type": "text"
        },
        {
          "name": "sqlProxyPort",
          "value": "8081",
          "enabled": true,
          "secret": false,
          "type": "text"
        }
      ],
      "name": "otus_local"
    }
  ]
}